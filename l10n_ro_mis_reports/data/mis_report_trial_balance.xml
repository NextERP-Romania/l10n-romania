<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright 2020 NextERP Romania SRL
     License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl). -->
<odoo>
    <!-- wizard and menu -->
    <record id="action_mis_report_trial_balance" model="ir.actions.server">
        <field name="name">Trial Balance</field>
        <field name="model_id" ref="account.model_account_chart_template"/>
        <field name="state">code</field>
        <field name="code">action =
            model.env.ref('l10n_ro_mis_reports.mis_report_trial_balance').get_wizard_report_action()
        </field>
        <field name="type">ir.actions.server</field>
    </record>
    <menuitem action="action_mis_report_trial_balance" id="menu_mis_report_trial_balance"
              parent="l10n_ro.account_reports_ro_statements_menu"/>

    <!-- mis.report -->
    <record model="mis.report" id="mis_report_trial_balance">
        <field name="name">Romanian Trial Balance</field>
        <field name="style_id" ref="mis_report_style_l10n_ro_base"/>
    </record>
    <record model="mis.report.kpi" id="mis_report_trial_balance_debit">
        <field name="report_id" ref="mis_report_trial_balance"/>
        <field name="name">debit</field>
        <field name="description">Account</field>
        <field name="expression">deb[]</field>
        <field name="type">num</field>
        <field name="style_id" ref="mis_report_style_l10n_ro_2"/>
        <field name="sequence">1</field>
    </record>
    <record model="mis.report.kpi" id="mis_report_trial_balance_credit">
        <field name="report_id" ref="mis_report_trial_balance"/>
        <field name="name">credit</field>
        <field name="description">Credit</field>
        <field name="expression">crd[]</field>
        <field name="type">num</field>
        <field name="style_id" ref="mis_report_style_l10n_ro_2"/>
        <field name="sequence">1</field>
    </record>

    <record id="mis_report_instance_trial_balance" model="mis.report.instance">
        <field name="name">Trial Balance</field>
        <field name="report_id" ref="mis_report_trial_balance"/>
        <field name="comparison_mode" eval="False"/>
    </record>

    <record id="mis_report_instance_expenses_bud" model="mis.report.instance.period">
        <field name="name">Opening Amounts</field>
        <field name="report_instance_id" ref="mis_report_instance_trial_balance"/>
        <field name="source">mis_budget</field>
        <field name="source_mis_budget_id" ref="mis_budget_expenses"/>
        <field name="mode">relative</field>
        <field name="type">m</field>
        <field name="offset">-2</field>
        <field name="duration">3</field>
        <field name="sequence">10</field>
    </record>

    <record id="mis_report_instance_expenses_commit" model="mis.report.instance.period">
        <field name="name">Initial Amounts</field>
        <field name="report_instance_id" ref="mis_report_instance_trial_balance"/>
        <field name="source">actuals_alt</field>
        <field name="source_aml_model_id" ref="model_mis_committed_purchase"/>
        <field name="mode">MODE_REL</field>
        <field name="type">m</field>
        <field name="offset">-2</field>
        <field name="duration">3</field>
        <field name="sequence">20</field>
    </record>

    <record id="mis_report_instance_expenses_act_mm2" model="mis.report.instance.period">
        <field name="name">M-2</field>
        <field name="report_instance_id" ref="mis_report_instance_trial_balance"/>
        <field name="source">actuals</field>
        <field name="mode">relative</field>
        <field name="type">m</field>
        <field name="offset">-2</field>
        <field name="sequence">30</field>
    </record>

    <record id="mis_report_instance_expenses_act_mm1" model="mis.report.instance.period">
        <field name="name">Total</field>
        <field name="report_instance_id" ref="mis_report_instance_trial_balance"/>
        <field name="source">actuals</field>
        <field name="mode">relative</field>
        <field name="type">m</field>
        <field name="offset">-1</field>
        <field name="sequence">40</field>
    </record>

    <record id="mis_report_instance_expenses_act_m" model="mis.report.instance.period">
        <field name="name">Result</field>
        <field name="report_instance_id" ref="mis_report_instance_trial_balance"/>
        <field name="source">actuals</field>
        <field name="mode">relative</field>
        <field name="type">m</field>
        <field name="offset">0</field>
        <field name="sequence">50</field>
    </record>
</odoo>
